\documentclass[11pt,a4paper]{article}

\def\nyear {2025}
\def\nterm {Winter}
\def\nlecturer {Emanuel Milman}
\def\ncourse {Real Functions}

\input{../header.tex}
\newcommand{\A}{\mathcal A}

\begin{document}
\maketitle

% Insert cool image here

\newpage
\tableofcontents
\newpage

\section{Introduction}

\subsection{Motivation}
The Riemann integral we have known so far is fairly limited.
For example it doesn't allow us to compute the Riemann integral
of Dirichlet's function $f \colon [0,1] \to \R$ defined as
\[
  f(x) = \mathbbm{1}_{\Q \cap [0,1]} =
  \begin{cases}
    1, &x \in \Q \cap [0,1] \\
    0, &\text{otherwise}
  \end{cases}.
\]
In his thesis Lebesgue introduced a new type of integral called
a Lebesgue integral that allows us to compute integrals for functions
like Dirichelt's function, and he continued to develop more concepts
like measure, and almost everywhere.

\subsection{Motivation for Lebesgue integral}
Let $f(x) = \mathbbm{1}_A$ be the function that 
we want $\int \mathbbm{1}_A$ to be the volume of the set $A$.

First we would like we define what is a volume of a set.
We would want to require a couple of things
\begin{enumerate}
  \item[(1)] $\mu(A)$ is defined for all $A \subseteq \R^n$;
  \item[(2)] $\mu([0,1]^n) = 1^n = 1$;
  \item[(3)] $\mu$ to be invariant to congruations (isometries).
  \item[(4)] If $\set{A_i}_{i=1}^{\infty}$ is a countable sequence
    of pairwise disjoint sets then
    \[
      \mu\del{\bigcup_{i=1}^{\infty} = \sum_{i=1}^{\infty} \mu(A_i)}.
    \]
\end{enumerate}

\begin{remark}
  Property $(4)$ is called $\sigma$-additivity.
\end{remark}

\begin{theorem}[Hausdorrf, 1914]
  There is no function that satisfies $(1) - (4)$ at the same time.
\end{theorem}

We will prove this theorem later.
For now we can only try to weaken the requirements.
For example instead of $\sigma$-additivity we might require finite
additivity.

\begin{theorem}
  There exists a function that satisfies the wanted requirements in
  dimenstions $1$ and $2$ but not in dimension $n \geq 3$.
\end{theorem}

For example in $n = 3$ we have the Banach-Tarski paradox

\begin{paradox}[Banach--Tarski, 1924]
  For every $n \geq 1$ we can divide $S^2$ in $\R^n$ to a finite amount 
  of parts such that when they are rotated and rearranged,
  can form a new sphere of any desired size.
\end{paradox}
\begin{remark}
  The bigger sphere we would want to form, the greater is the minimal
  pieces we need to divide the unit sphere in order to form it.
\end{remark}

This paradox is based on the use of the axiom of choice, but since we
assume the axiom of choice in this course we still need to modify the
requirements.

Instead of $(4)$ we require subadditivity:
\[
\mu\del{\bigcup_{i=1}^{\infty} A_i} \le \sum_{i=1}^{\infty} \mu(A_i).
\]
This is possible but instead we would like to keep $\sigma$-additivity
but instead give up on requirement $(0)$.
We will only define volume only for ``nice'' sets which include
all of the sets we work with in analysis or geometry etc.\ these
sets form a $\sigma$-algebra on $\R^n$.

\section{Algebras and \texorpdfstring{$\sigma$}{s}-algebras}

\subsection{Definitions}

\begin{definition}[Algebra]
  An algebra on a nonempty set $X$ is a collection $\mathcal A$ of
  subsets of $X$ such that
  \begin{enumerate}
    \item[(1)] $\emptyset, X \in \mathcal A$;
    \item[(2)] $\mathcal A$ is closed under complements;
    \item[(3)] $\mathcal A$ is closed under finite unions and intersections.
  \end{enumerate}
\end{definition}

\begin{definition}[$\sigma$-algebra]
  A $\sigma$-algebra on a nonemptyset $X$ is an algebra $\mathcal A$ on
  $X$ that is also closed under countable unions and intersections.
\end{definition}

\begin{remark}
  A $\sigma$-algebra is sometimes called a $\sigma$-field.
  That is why it is sometimes denoted $\mathcal F$.
\end{remark}

\begin{remark}
  From De-Morgan laws we know that
  \[
    \del{\bigcup_{i \in I} A_i}^c =
    \bigcap_{i \in I} A_i^c
  \]
  so it is only necessary to require closure under countable unions
  or countable intersections.
\end{remark}

\begin{remark}
  It is also possible to require $\mathcal A$ to be nonempty instead of 
  $(1)$.
  Then for $A \in \mathcal A$ we have
  \[
    A \in \A \implies A^c \in \A \implies
    A \cup A^c = X \in \A \stand
    A \cap A^c = \emptyset \in \A.
  \]
\end{remark}

\begin{example}
  $\A = \set{\emptyset, X}$ and $\A = 2^X$ are the smallest
  and biggest $\sigma$-algebras on $X$ respectively.
\end{example}

\begin{example}
  If $X$ is not countable.
  Then
  \[
    \mathcal A =
    \set{E \subseteq X \colon E \stor E^c \text{ are countable}} \neq
    2^X
  \]
  is a $\sigma$-algebra.
\end{example}

\begin{definition}[Cocountablility]
  Let $X$ be a set.\ Then $A$ is called cocountable if $A^c$ is countable.
\end{definition}

\begin{example}[Generated $\sigma$-algebra]
  Let $F \subseteq 2^X$ be a family of subsets of $X$.
  The $\sigma$-algebra generated by $F$ is defined as
  \[
    \sigma(F) = \bigcap \set{\mathcal A \subseteq 2^X \colon 
    \A \text{ is a $\sigma$-algebra} \stand F \subset \A}.
  \]
\end{example}
\begin{remark}
  Notice that the intersection is indeed a $\sigma$-algerba.
\end{remark}
\begin{remark}
  Let $\A$ be a $\sigma$-algebra and $F \subseteq \A$.
  Then $\sigma(F) \subseteq A$.
\end{remark}
\begin{corollary}
  Suppose $F_1 \subseteq \sigma(F_2)$ and $F_2 \subseteq \sigma(F_1)$.
  Then $\sigma(F_1) = \sigma(F_2)$.
\end{corollary}

\begin{definition}[Borel $\sigma$-algebra]
  Let $X$ be a topological space.
  Then we define the Borel $\sigma$-algebra as the $\sigma$-algebra generated
  by the open sets in $X$.
  \[
    B(X) = \sigma\del{\set{G \subset X \mid G \text{ is open}}}.
  \]
\end{definition}
\begin{remark}
  Recall that $G$ denotes an open set, $F$ a closed set, $G_{\delta}$
  a countable intersection of open sets and $F_{\sigma}$ a countable
  union of closed sets.
  Similarly $G_{\delta \sigma}$ is a countable union of $G_{\delta}$ sets
  etc.
\end{remark}
\begin{remark}
  \[
    B(X) = \sigma\del{\set{F \subset X \mid F \text{ is closed}}}.
  \]
\end{remark}

\begin{proposition}
  $B(\R)$ is generated by the collection of any type of interval.
\end{proposition}
\begin{proof}
  Consider the collection of open intervals in $\R$.
  Since any open set in $\R$ is a countable union of disjoin open intervals,
  it is clear that $B(\R) = \sigma\del{(a,b)}$.

  Consider the collection of closed intervals in $\R$.
  Since any closed interval is a countable intersection of open sets,
  we have that $[a,b] \subseteq \sigma\del{(a,b)}$.
  Since any open interval is a countable union of closed sets,
  we have that $(a,b) \subseteq \sigma\del{[a,b]}$.
  
  The proof for other types of intervals (like $(a,b]$) is similar and thus
  omitted.
\end{proof}

\subsection{The product \texorpdfstring{$\sigma$}{s}-algebra}

\begin{definition}[Product $\sigma$-algebra]
  Let $\set{\A_{i}}_{i}$ be a collection of $\sigma$-algebras on
  $\set{X_{i}}_{i}$.
  Then, the product $\sigma$-algebra $\otimes_{i \in I} \A_{i}$ is
  the $\sigma$-algebra generated by the cylindrical sets.
  \[
    \mathcal{S} = \set{\prod_{i \in I}{U_{\alpha}} \mid 
    \exists j \in I \st 
    \text{ $U_{i} = X_{i}$ 
    for $i \in I \setminus \{j\}$ and $U_j \in \A_j$}}.
  \]
  which is the also the set that generates the product topology on
  the product space.
\end{definition}
\begin{remark}
  In the case of $|I| < \aleph_0$ this is equivalent to the $\sigma$-algebra
  generated by the open sets in $\otimes_{i \in I} \A_i$ with respect to the
  box topology.
\end{remark}

\begin{proposition}
  $B(\R^n) = \otimes_{i=1}^{n} B(\R)$.
\end{proposition}
\begin{proof}
  We need to prove that $\prod_{i=1}^{n} (a_i, b_i) \subseteq B(\R^n)$
  which is clear, and also that $B(\R^n) \subseteq \prod_{i=1}^{n} (a_i, b_i)$
  which is also managable because for an open set $A \subseteq \R^n$ we
  can see that it is the countable union of all the open boxes with
  rational sized edges contained in $A$ around any rational point $q \in A$
  (which exist because $A$ is open).
\end{proof}

\section{Measure}
\subsection{Definitions}

\begin{definition}[Measure]
  Let $\A$ be a $\sigma$-algebra on $X$.
  A function $\mu \colon \A \to [0,\infty]$ is called a measure if
  \begin{enumerate}
  \item[(1)] $\mu(\emptyset) = 0$;
  \item[(2)] Given a sequence $\set{E_i}_{i=1}^{\infty} \subseteq \A$ of
    disjoint sets we have
    \[
      \mu\del{\biguplus_{i=1}^{\infty} E_i} =
      \sum_{i=1}^{\infty} \mu(E_i).
    \]
  \end{enumerate}
\end{definition}
\begin{remark}
  Property $(2)$ is called $\sigma$-additivity.
  It obviouly implies finite additivity because we can choose 
  $E_j = \emptyset$.
\end{remark}

\begin{definition}[Measurable space]
  The space $(X,\A)$ is called a measurable space.
  The elements of $\A$ are called measurable sets.
\end{definition}

\begin{definition}[Measure space]
  The triple $(X,\A,\mu)$ is called a measure space.
\end{definition}

\begin{definition}[Finite measure]
  A finite measure is a measure $\mu$ on $X$ such that $\mu(X) < \infty$.
\end{definition}

\begin{definition}[$\sigma$-finite measure]
  A $\sigma$-finite measure is a measure $\mu$ on $X$ such that
  $X = \cup_{i=1}^{\infty} E_i$ for $E_i \in \A$ such that $\mu(E_i) < \infty$.
\end{definition}

\begin{definition}[Borel measure]
  A measure $\mu$ on a topological space $X$ is called a Borel measure
  if $B(X) \subseteq \A$.
\end{definition}

\begin{example}[Delta measure]
  Let $x_0 \in X$ and $\A = 2^X$.
  Then the delta measure is
  \[
    \delta_{x_0}(E) =
    \begin{cases}
      1, &x_0 \in E \\
      0, &x_0 \notin E
    \end{cases}.
  \]
\end{example}

\begin{example}[Counting measure]
  The counting measure is the measure on $\A = 2^X$ such that
  $\mu(E) = |E|$.
\end{example}

\begin{example}
  Suppose $\aleph_0 < |X|$ and let $\A$ be the $\sigma$-algebra of the countable
  or cocountable subsets of $X$. Then the follwing is a measure on $X$,
  \[
    \mu(E) =
    \begin{cases}
      0, |E| \le \aleph_0 \\
      1, |E^c| = \aleph_0
    \end{cases}
  \]
\end{example}

\begin{example}
  Suppose $|X| = \infty$ and $\A = 2^X$.
  Then the following is a measure on $X$,
  \[
    \mu(E) =
    \begin{cases}
      0, &|E| < \infty \\
      1, &|E| = \infty
    \end{cases}
  \]
\end{example}
\begin{remark}
  The last example is a finite additive measure, but not $\sigma$-additive.
\end{remark}

\begin{proposition}
  Let $(X, \A, \mu)$ be a measure space.
  Then
  \begin{enumerate}
    \item[(1)] Let $E,F \in \A$ such that $E \subseteq F$.
      Then $\mu(E) \le \mu(F)$.
    \item[(2)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$.
      Then
      \[
        \mu\del{\bigcup_{i=1}^{\infty} E_i} \le \sum_{i=1}^{\infty} \mu(E_i)
      \]
    \item[(3)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$ such that
      $E_1 \subseteq E_2 \subseteq \dots$ then
      \[
        \mu\del{\bigcup_{i=1}^{\infty} E_i} =
        \lim_{i \to \infty} \mu(E_i)
      \]
    \item[(4)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$ such that
      $E_1 \supseteq E_2 \supseteq \dots$ then
      \[
        \mu\del{\bigcap_{i=1}^{\infty} E_i} =
        \lim_{i \to \infty} \mu(E_i)
      \]
  \end{enumerate}
\end{proposition}
\begin{proof}
  TO BE ADDED.
\end{proof}

\begin{definition}[$\mu$-negligible set]
  A negligible set is a set $E \in \A$ such that $\mu(E) = 0$.
\end{definition}

\begin{definition}[Almost everywhere]
  We say that a certain property is true almost everywhere if it is true
  for any $x \in X \setminus E$ such that $E$ is $\mu$-negligible.
\end{definition}

\begin{example}
  We have that $\sin x \neq 0$ almost everywhere because
  \[
    |E| = \left|\set{x \in \R \mid \sin x = 0}\right| = \aleph_0
  \]
  is $\mu$-negligible for 
  \[
    \mu(E) =
    \begin{cases}
      0, &|E| \le \aleph_0 \\
      1, &|E^c| = \aleph_0
    \end{cases}
  \]
\end{example}
\begin{remark}
  A countable union of $\mu$-negligible sets is $\mu$-negligible from
  subadditivity.
\end{remark}
\begin{remark}
  A subset of a $\mu$-negligible set is $\mu$-negligible since measures are
  monotone.
\end{remark}

\subsection{Complete measure spaces}

\begin{definition}[Complete measure space]
  A triple $(X,\A,\mu)$ is called a complete measure space if
  for any $F \in \A$, if $\mu(F) = 0$ then for all $E \subseteq F$
  we have $E \in \A$.
\end{definition}

\begin{theorem}[Completion theorem]
  Let $(X, \A, \mu)$ be a measure space.
  Define
  \begin{align*}
    \mathcal N &= \set{N \in \A \mid \mu(N) = 0} \\
    \overline \A &= 
    \set{E \cup F \mid E \in \A \stand F \subseteq N \in \mathcal N}.
  \end{align*}
  Then $\overline A$ is a $\sigma$-algebra, and there exists 
  a unique extension $\bar \mu$ of $\mu$ such that $(X, \overline \A, \bar \mu)$
  is a complete measure space.
\end{theorem}
\begin{proof}
  In hw
\end{proof}
\begin{remark}
  $\overline A$ is the smallest $\sigma$-algebra containing $\A$ and all
  the subsets of $\mu$-negligible sets.
\end{remark}

Our goal is to construct a measure space $(\R^n, \A, \mu)$ such that
\[
  \mu\del{\prod_{i=1}^{n} [a_i,b_i]} =
  \prod_{i=1}^{n} |a_i - b_i|.
\]
Recall that earlier we saw that
\[
  B(\R^n) =
  \bigotimes_{i=1}^{n} B(\R) =
  \sigma\del{\prod_{i=1}^{n} [a_i,b_i]}
\]
which implies that $B(\R^n) \subseteq \A$.
To define the measure for other sets we can use an outer measure
\[
  \mu^*(E) := \inf \set{\sum_{i=1}^{\infty} \mu(R_i) \mid E \subseteq 
  \bigcup_{i=1}^{n} R_i}.
\]
We now have two questions.
\begin{itemize}
  \item[(1)] Is $\mu^*(R) = \mu(R)$? Yes.
  \item[(2)] Did we get a measure? No, we got an outer measure.
\end{itemize}
\begin{remark}
  Defining $\mu^*$ only on ``good'' sets gives us a measure called
  Lebesgue measure.
  Good sets are sets for which the outer measure is equal to the inner measure.
\end{remark}

\begin{definition}[Outer measure]
  Let $X \neq \emptyset$. Then $\mu^* \colon 2^X \to [0,\infty]$ is
  called an outer measure if
  \begin{enumerate}
    \item[(1)] $\mu^*(\emptyset) = 0$;
    \item[(2)] $\mu^*$ is monotone (if $A \subset B$ then $\mu^*(A) < \mu^*(B)$);
    \item[(3)] $\mu^*$ is subadditive
      $\del{\mu^*\del{\bigcup_{i=1}^{\infty} E_i} \le 
      \sum_{i=1}^{\infty} \mu^*(E_i)}$.
  \end{enumerate}
\end{definition}

\begin{proposition}
  Let $\mathcal E \subseteq 2^X$ be a family of subsets of $X$ and
  $\varphi \colon \mathcal E \to [0,\infty]$ such that
  $\emptyset, X \in \mathcal E$ and $\varphi(\emptyset) = 0$.
  For all $A \subseteq X$ we define
  \[
    \mu^*(A) = \inf\set{\sum_{i=1}^{\infty} \varphi(E_i) \mid 
    E_i \in \mathcal E \stand A \subseteq \bigcup_{i=1}^{\infty} E_i}
  \]
  then $\mu^*$ is an outer measure.
\end{proposition}
\begin{remark}
  It is not promised that $\mu^*(E) = \varphi(E)$ for $E \in \mathcal E$.
\end{remark}
% ADD EXAMPLE?
\begin{proof} \phantom{}
\begin{enumerate}
  \item[(1)] We can cover $\emptyset$ by $E_i = \emptyset$.
  \item[(2)] Let $A \subseteq B$.
    We can use the cover of $B$ for $A$ since 
    $A \subseteq B \subseteq \bigcup E_i$ which implies $\mu^*(A) \le \mu^*(B)$.
  \item[(3)] By the definition of the infimum there exists a covering
    $A_i \subseteq \cup_{k=1}^{\infty} E_k^i$ such that
    \[
      \mu\del{\bigcup_{k=1}^{\infty} E_k^i} \le 
      \sum_{i=1}^{\infty} \mu^*(A_i) + \epsilon \cdot 2^{-i}
    \]
    which implies that 
    $\bigcup_{i=1}^{\infty} A_i \subseteq \bigcup_{k,i=1}^{\infty} E_k^i$
    and so
    \[
      \mu\del{\bigcup_{i=1}^{\infty} E_i} \le 
      \sum_{k,i}^{\infty} \varphi(E_k^i) \le
      \sum_{i=1}^{\infty} \mu(E_i) + \epsilon
    \]
    but $\epsilon > 0$ is arbitrary which completes the proof.
\end{enumerate}
\end{proof}

\begin{remark}
  Every outer measure can be constructed by $\varphi$ in this way.
\end{remark}

\begin{definition}[$\mu^*$-measurable set]
  A set $A \subseteq X$ is called $\mu^*$-measurable if for all $E \subseteq X$,
  \[
    \mu^*(E) = \mu^*(E \cap A) + \mu^*(E \cap A^c).
  \]
\end{definition}

\begin{remark}
  It is clear that the $\le$ direction is always satisfied from subadditivity,
  so it is only necessary to verify the direction $\geq$.
  In particular, it is only necessary to verify it for sets such that
  $\mu^*(E) < \infty$.
\end{remark}

Let $A \subseteq E$ be such that $\mu^*(E) < \infty$.
Then we need to verify that
\[
  \underbrace{\mu^*(A)}_{\text{outer measure}} = 
  \underbrace{\mu^*(E) - \mu^*(E \cap A^c)}_{\text{inner measure}}.
\]

\subsection{Caratheodory's outer measure theorem}

\begin{theorem}[Caratheodory's outer measure theorem]
  \label{thm:car-outer-measure}
  Let $\mu^*$ be an outer measure on $X$. Then
  \begin{enumerate}
    \item[(1)] $\mathcal F_{\mu^*} := 
      \set{A \subseteq X \mid A \text{ is }\mu^*\text{-measurable}}$ is a 
      $\sigma$-algebra.
    \item[(2)] The triple
      $(X, \mathcal F_{\mu^*}, \mu^*\vert_{\mathcal F_{\mu^*}})$
      is a complete measure space.
  \end{enumerate}
\end{theorem}
\begin{remark} \label{recitations-one}
  We saw in the recitations that in order
  to show that $\mathcal F$ is a $\sigma$-algebra, it suffices to prove that
  if $E_i \in \mathcal F$ are disjoint, then
  \[
    \biguplus_{i=1}^{\infty} E_i \in \mathcal F.
  \]
\end{remark}
\begin{proof} \phantom{}
\begin{enumerate}
  \item[(1)] Let us show that $\mathcal F = \mathcal F_{\mu^*}$ is an algebra.
  $\mathcal F$ is closed under the complement operation because by the
  symmetric definition, if $A$ is $\mu^*$-measurable so is $A^c$.

  Let $A,B \in \mathcal F$ and $E \subseteq X$.
  Since $A$, $B$ are $\mu^*$-measurable we have that
  \begin{align*}
    \mu^*(E) &= \mu^*(E \cap A) + \mu^*(E \cap A^c) \\ &=
    \mu^*(E \cap A \cap B) + \mu^*(E \cap A \cap B^c) +
    \mu^*(E \cap A^c \cap B) + \mu^*(E \cap A^c \cap B^c).
  \end{align*}
  We also have that
  \[
    (A \cup B) \cap E =
    \del{(A \cap B) \cap E} \sqcup
    \del{(A^c \cap B) \cap E} \sqcup
    \del{(A \cap B^c) \cap E}.
  \]
  Thus, from subadditivity
  \[
    \mu^*(E) \geq \mu^*(E \cap (A \cup B)) \mu^*(E \cap (A \cup B)^c)
  \]
  which implies $A \cup B \in \mathcal F$.
  By induction we get that  $\mathcal F$ is closed under finite unions
  which makes it an algebra.
  Moreover, let $A,B \in \mathcal F$ be disjoint sets. Then
  \[
    \mu^*(\underbrace{A \sqcup B}_{E}) =
    \mu^*((A \sqcup B) \cap A) +
    \mu^*((A \sqcup B) \cap A^c) =
    \mu^*(A) + \mu^*(B)
  \]
  so $\mu$ is a finite additive measure on $\mathcal F$.
  
  Let $\set{A_j}_{j=1}^{\infty} \subseteq \mathcal F$ be a sequence of
  disjoint sets.
  Define
  \[
    B_n = \biguplus_{i=1}^{n} A_i \in \mathcal F \tand
    B_{\infty} \biguplus_{i=1}^{\infty} A_i.
  \]
  For all $E \subseteq X$ we have
  \begin{align*}
    \mu^*(E \cap B_n) &= 
    \mu^*((E \sqcup B_n) \cap A_n) +
    \mu^*((E \sqcup B_n) \cap A_n^c) \\ &=
    \mu^*(E \cap A_n) + \mu^*(E \cap B_{n-1}) \\ &=
    \sum_{i=1}^{n} \mu^*(E \cap A_i).
  \end{align*}
  Using this and since $\mu^*$ is monotone we have
  \[
    \mu^*(E) =
    \mu^*(E \cap B_n) + \mu^*(E \cap B_n^c) \geq
    \sum_{i=1}^{n} \mu^*(E \cap A_i) + \mu^*(E \cap B_{\infty}^c).
  \]
  Taking $n \to \infty$ we have
  \[
    \mu^*(E) \geq
    \sum_{i=1}^{\infty} \mu^*(E \cap A_i) + \mu^*(E \cap B_{\infty}^c) \geq
    \mu^*\del[4]{E \cap \underbrace{\bigcup_{i=1}^{\infty} A_i}_{B_{\infty}}}   
    + \mu^*(E \cap B_{\infty}^c) \geq
    \mu^*(E)
  \]
  which implies that $B_{\infty} \in \mathcal F$ ($\sigma$-additive).
  From \Cref{recitations-one} we have that $\mathcal F$ is a $\sigma$-algebra.
  \item[(2)] Let $A \subseteq X$ such that $\mu^*(A) = 0$.
  Then we have
  \[
    \mu^*(E) \le
    \mu^*(E \cap A) + \mu^*(E \cap A^c) \le
    \underbrace{\mu^*(A)}_{0} + \mu^*(E) =
    \mu^{E}
  \]
  which implies that all the expressions must be equal so
  \[
    \mu^*(E) =
    \mu^*(E \cap A) + \mu^*(E \cap A^c)
  \]
  which means $A \in \mathcal F_{\mu^*}$.
  Since $\mathcal F_{\mu^*}$ contains all $\mu^*$-negligible sets, it is
  complete which also completes the proof.
\end{enumerate}
\end{proof}

\subsubsection{Constructing Lebesgue measure on \texorpdfstring{$\R^n$}{Rn}}

Let
\[
  \mathcal R = \set{R = \prod_{i=1}^{\infty} [a_i,b_i] \mid a_i,b_i \in \R}
\]
and define
\[
  \varphi(R) = \Vol(R) = \prod_{i=1}^{\infty} |a_i - b_i|.
\]
Let us define the outer Lebesgue measure for $E \subseteq \R^n$
\[
  \mu^*(E) = \inf\set{\sum_{i=1} \Vol(R_i) \mid 
  E \subseteq \bigcup_{i=1}^{\infty} R_i \st R_i \in \mathcal R}.
\]
We saw that it is an outer measure.\
By \Cref{thm:car-outer-measure} the space 
$(\R^n, L(\R^n), \mu^*\vert_{L(\R^n)})$ is a complete measure space,
such that
\[
  \mu^*\vert_{L(\R^n)} = \mu \quad 
  \parbox{8em}{ \phantom{calle}is called \\ Lebesgue measure}
  \tand
  L(\R^n) = \mathcal F_{\mu^*} \quad
  \parbox{10em}{is the $\sigma$-algebra \\ of the Lebesure \\
  measurable sets in $\R^n$}
\]
We now need to show that
\begin{enumerate}
  \item[(1)] For all $R \in \mathcal R$ we have $\mu^*(R) = \Vol(R)$;
  \item[(2)] $R \subseteq L(\R^n) \iff 
    B(\R^n) = \sigma(\mathcal R) \subseteq L(\R^n)$.
\end{enumerate}

% Bunch of fuckary fuck fuck

\begin{remark}
  Recall that we defined the Cantor set as
  \[
    C := \set{x \in [0,1] \mid x = \sum_{n=1}^{\infty} \frac{a_n}{3^n} \st
    a_n \in \set{0,2}}.
  \]
\end{remark}

\begin{proposition}
  The Cantor set satisfies the following properties:
  \begin{enumerate}
    \item[(1)] It is compact;
    \item[(2)] We have $m(C) = 0$;
    \item[(3)] $|C| = \aleph = 2^{\aleph_0}$.
  \end{enumerate}
\end{proposition}
\begin{proof} \phantom{}
\begin{enumerate}
\item[(1)] We notice that
  $C = \bigcap_{n} K_n$ such that
  \[
    K_n := \biguplus
    \set{x_0 + [0,\frac{1}{3^{n}}] \mid x_0 = 
    \sum_{n=1}^{\infty} \frac{a_n}{3^n} \st a_n \in \set{0,2}}.
  \]
  Since $K_n$ is a union of a finite amount of compact sets it is compact,
  and since $C$ is an intersection of a countable amount of compact sets
  it is compact.
\item[(2)] We have from the monotonicity of $m$ that:
  \[
    0 \le m(C) \le m(K_n) = \frac{2^n}{3^n} \taking{n \to \infty} 0.
  \]
\item[(3)] Let $x \in C$. Then it has a unique ternary expansion without
  the digit $1$:
  \[
    x = \sum_{n=1}^{\infty} \frac{a_n}{3^n} \st a_n \in \set{0,2}
  \]
  so it is clear that
  \[
    |C| = \abs{\set{0,2}^{\N}} = 2^{\aleph_0} = \aleph = \abs{[0,1]}.
  \]
\end{enumerate}
\end{proof}

We can construct the almost-bijection $f \colon [0,1] \to C$ explicitly:

Define $b_n = \frac{a_n}{2} \in \set{0,1}$ and define
\[
    y = f(x) := \sum_{n=1}^{\infty} \frac{b_n}{2^n}.
\]
It is clear that $f(C) = [0,1]$ because every number in $[0,1]$ has a binary
expansion, and $f$ is injective except for the numbers that have two
binary expansions.

We notice that $f$ is monotonic (nondecreasing).
That is $x < y$ implies $f(x) \le f(y)$ and if $x$, $y$ are points
on the boundary of a $G_n$ set we have $f(x) < f(y)$.

We can expand the function such that $f \colon [0,1] \to [0,1]$ by
defining it to be constant on $G_n$, and this is well defined because
$f(x) = f(y)$ for $x,y \in \partial G_n$.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Since $f$ is monotonic it can only have a jumping point of discontinuity,
but since $f$ is onto $[0,1]$ it doesn't have such points and thus continuous.

The function $f$ is called Cantor's function.
It is 

\begin{proposition}
  There exists a Lebesgue measurable function that is not a Borel set.
  That is,
  \[
    L(\R) \setminus B(\R) \neq \emptyset.
  \]
\end{proposition}
\begin{proof}
  We notice that
  \[
    |B(\R)| = \aleph_1 = 2^{\aleph},
  \]
  but we have that
  \[
    |L(\R)| \geq 2^{\aleph_1} > \aleph_1
  \]
  because every subset of $C$ is of measure $0$, (and since the measure
  is complete) it is measurable, and there are $2^{|C|}$ such subsets.
\end{proof}
\begin{proof}
  Let $f$ be the Cantor function, and define
  \[
    g(y) = \inf\set{x \in [0,1] \mid f(x) = y}
  \]
  as its inverse function.
  The function $g$ is strictly increasing, and thus injective, 
  but it is not continuous.
\end{proof}

\section{Measurable functions}
\begin{definition}[Inverse image]
  Given a map $f \colon X \to Y$.
  The inverse image map $f^{-1} \colon 2^{Y} \to 2^{X}$ is given by
  \[
    f^{-1}(E) = \set{x \in X \mid f(x) \in E}, \quad E \subseteq Y.
  \]
\end{definition}
\begin{remark}
  The inverse image preserves taking complements, unions, and intersections
  of any cardinality.
\end{remark}

From this remark we get the following proposition.

\begin{proposition}
  Let $\A_Y$ be a $\sigma$-algebra on $Y$.
  Then $f^{-1}(\A_Y) = \set{f^{-1}(E) \mid E \in \A_Y} \subseteq 2^X$
  is a $\sigma$-algebra on $X$.
\end{proposition}

\begin{definition}[Measurable function]
  Let $(X, \A_X)$ and $(Y, \A_Y)$ be measurable spaces,
  and let $f \colon X \to Y$ be a function.
  Then $f$ is called a measurable function if for all $E \in \A_Y$ we
  have $f^{-1}(E) \in \A_X$.
  That is $f^{-1}(\A_Y) \subseteq \A_X$.
\end{definition}

\begin{remark}
  A composition of measurable functions is measurable.
  This easily follows from $(g \circ f)^{-1} = f^{-1} \circ g^{-1}$.
\end{remark}

\begin{lemma}
  Let $\A_Y = \sigma(\mathcal E)$ such that $\mathcal E \subseteq 2^{Y}$.
  Then $f \colon X \to Y$ is measurable if and only if for all
  $E \in \mathcal E$ we have $f^{-1}(E) \in \A_X$.
\end{lemma}
\begin{proof}
  Thef first direction is trivial
\end{proof}

% Missing something again?????????????????????????????????????????

\section{Simple functions}
\begin{definition}[Indicator function]
  An indicator function of a set $E \subseteq X$ is defined as
  \[
    \mathbbm{1}_E(x) =
    \xsi_E(x) =
    \begin{cases}
      1, &x \in E \\
      0, &\text{otherwise}
    \end{cases}.
  \]
\end{definition}
\begin{remark}
  $\mathbbm 1_E$ is measurable if and only if $E$ is measurable.
\end{remark}

\begin{definition}[Simple function]
  A function $\phi \colon (X,\A) \to \R$ is called simple if
  \[
    \phi(X) = \sum_{j=1}^{N} c_j \cdot \mathbbm{1}_{E_j}, \quad
    c_j \in \R \stand E_j \in \A.
  \]
\end{definition}
% which is measurable as a sum of measurable???

\section{Integration}
Set a measure space $(X,\A,\mu)$ and denote
$\L^+ := \set{f \colon X \to [0,\infty] \mid \text{$f$ is measurable}}$.
\begin{remark}
  If $\phi \in \L^+$ is simple, then
  \[
    \phi = 
    \sum_{j=1}^{N} c_j \cdot \mathbbm{1}_{E_j}, \quad
    c_j \in [0,\infty] \stand E_j \in \A.
  \]
\end{remark}

\begin{definition}[Integration of simple functions]
  Let $\phi \in \L^+$ be simple.
  Then we define
  \[
    \int \phi \dmu = 
    \sum_{j=1}^{N} c_j \cdot \mu(E_j) \in [0,\infty].
  \]
\end{definition}

\begin{remark}
  We can verify that this definition is not dependent on the representation
  of $\phi$.
\end{remark}
\begin{remark}
  The convention is that
  $\underset{=c_j}{0} \cdot \underset{=\mu(E_j)}{\infty} = 0$.
\end{remark}
\begin{remark}
  We denote
  \[
    \int \phi =
    \int \phi \dmu =
    \int \phi(x) \dmu(x) =
    \int \phi(x) mu(\dx)
  \]
  and
  \[
    \forall A \in \A, \quad
    \int_{A} \phi \dmu =
    \int \underbrace{\phi \mathbbm{1}_{A}}_{\text{simple function}} \dmu
  \]
\end{remark}

\begin{proposition}
  Let $\phi, \psi \in \L^+$ be simple functions. Then
  \begin{enumerate}
    \item[(1)] For all $a \geq 0$ we have $\int a \phi = a \int \phi$.
    \item[(2)] $\int (\phi + \psi) = \int \phi + \int \psi$.
    \item[(3)] If $\phi \le \psi$ then $\int \phi \le \int \psi$.
  \end{enumerate}
\end{proposition}
\begin{proof} \phantom{}
\begin{enumerate}
  \item[(1)] Immediate result.
  \item[(2)] 
  \item[(2)] 
\end{enumerate}
\end{proof}

\begin{definition}[Integrability]
  Let $f \in \L^+$.
  We define
  \[
    \int f \dmu :=
    \sup\set{\int \phi \dmu \colon 0 \le \phi \le f \stand \mu 
    \text{ is simple}}.
  \]
  A function $f \in \L^+$ is called integrable with respect to $\mu$ if
  $\int f \dmu < \infty$.
  We define
  \[
    \int_{A} f \dmu = \int f \cdot \mathbbm{1}_{A} \dmu.
  \]
\end{definition}
\begin{remark}
  This definition generalized the previous definition for $f = \phi$.
  This follows from property $(3)$ in the previous proposition.
\end{remark}

%%%%% MESS
\begin{proposition}
  Let $\psi, \phi, \phi_1, \phi_2 \in \L^+$.
  Then
  \begin{enumerate}
    \item[(1)] For all $a \geq 0$ we have $\int a \phi = a \int \phi$.
    \item[(2)] $\int (\phi_1 + \phi_2) = \int \phi_1 + \int \phi_2$.
    \item[(3)] If $0 \le \psi \le \phi$ then $0 \le \int \psi \le \int \phi$.
  \end{enumerate}
\end{proposition}

\begin{theorem}[Monotone convergence theorem]
  If $\set{f_n} \subseteq \L^+$ be a pointwise monotone sequence of functions.
  Then
  \[
    \lim_{n \to \infty} \int f_n \dmu = \int f \dmu.
  \]
\end{theorem}
\begin{remark}
  The function $f$ is measurable because $f = \sup_{n} f_n$.
\end{remark}
\begin{remark}
  The theorem is false for the Riemann integral.
  Since $\Q$ is countable we can construct a well order on it such that
  $\set{q_k}_{k=1}^{\infty} = \Q$ and then define
  \[
    f_n(x) = \begin{cases}
      1, &x\in \bigcup_{k=1}^{n} q_k \\
      0, &\text{otherwise}
    \end{cases}
  \]
  but the limit function is $f = \mathbbm{1}_{\Q \cap [0,1]}$ which is not
  Riemann integrable.
\end{remark}
\begin{proof}
  From property $(3)$ of %%%Cref%%%
  we have
  \[
    \int f_1 \le \int f_2 \le \cdots \le \int f_n \le \int f
  \]
  so the sequence $\int f_n$ converges and we have
  \[
    \lim_{n \to \infty} \int f_n \dmu \le \int f \dmu.
  \]
  Now set $\alpha \in (0,1)$ and let $\phi$ be a simple function such that
  $0 \le \phi \le f$.
  We define
  \[
    A_n =\set{x \in X \colon f_n(x) \geq \alpha \cdot \phi(x)}
  \]
  and see that they are measurable, increasing, and $\bigcup A_n = X$.
  Thus
  \[
    \int f_n \geq
    \int f_n \mathbbm{1}_{A} \geq
    \int \alpha \phi \cdot \mathbbm{1}_{A_n} =
    \alpha \int_{A_n} \phi.
  \]
  and then
  \[
    \int_{A_n} \phi =
    \int \phi \mathbbm{1}_{A_n} =
    \sum_{j=1}^{N} c_j \mu\del{E_j \cap A_n} %%%% weird up arrow
    \sum_{j=1}^{N} c_j \mu(E_j) = \int \phi.
  \]
  Thus finally we have
  \[
    \lim_{n \to \infty} \int f_n \geq \alpha \int \phi
  \]
  for an arbitrary $\alpha \in (0,1)$ so we can take $\alpha \to 1$
  and get
  \[
    \lim_{n \to \infty} \int f_n \geq \int \phi.
  \]
  We can now take $\sup_{\phi}$ and get that
  \[
    \lim_{n \to \infty} \int f_n \geq \int f
  \]
  which completes the proof.
\end{proof}
\begin{corollary}
  An equivalent definition to the integral of $f \in \L^+$ is
  \[
    \int f \dmu = \lim_{n \to \infty} \int \phi_n \dmu
  \]
  for any sequence of positive simple functions $0 \le \phi_n \to f$.
  This is because we have shown that there exists such a sequence and the
  limit is not dependent on the choice of sequence.
\end{corollary}





% Push forward ----- meaning?

% Proof





\end{document}
