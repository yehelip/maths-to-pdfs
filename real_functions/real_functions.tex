\documentclass[11pt,a4paper]{article}

\def\nyear {2025}
\def\nterm {Winter}
\def\nlecturer {Emanuel Milman}
\def\ncourse {Real Functions}

\input{../header.tex}
\newcommand{\A}{\mathcal A}

\begin{document}
\maketitle

% Insert cool image here

\newpage
\tableofcontents
\newpage

\section{Introduction}

\subsection{Motivation}
The Riemann integral we have known so far is fairly limited.
For example it doesn't allow us to compute the Riemann integral
of Dirichlet's function $f \colon [0,1] \to \R$ defined as
\[
  f(x) = \mathbbm{1}_{\Q \cap [0,1]} =
  \begin{cases}
    1, &x \in \Q \cap [0,1] \\
    0, &\text{otherwise}
  \end{cases}.
\]
In his thesis Lebesgue introduced a new type of integral called
a Lebesgue integral that allows us to compute integrals for functions
like Dirichelt's function, and he continued to develop more concepts
like measure, and almost everywhere.

\subsection{Lebesgue integral}
Let $f(x) = \mathbbm{1}_A$ be the function that 
we want $\int \mathbbm{1}_A$ to be the volume of the set $A$.

First we would like we define what is a volume of a set.
We would want to require a couple of things
\begin{enumerate}
  \item[(1)] $\mu(A)$ is defined for all $A \subseteq \R^n$;
  \item[(2)] $\mu([0,1]^n) = 1^n = 1$;
  \item[(3)] $\mu$ to be invariant to congruations (isometries).
  \item[(4)] If $\set{A_i}_{i=1}^{\infty}$ is a countable sequence
    of pairwise disjoint sets then
    \[
      \mu\del{\bigcup_{i=1}^{\infty} = \sum_{i=1}^{\infty} \mu(A_i)}.
    \]
\end{enumerate}

\begin{remark}
  Property $(4)$ is called $\sigma$-additivity.
\end{remark}

\begin{theorem}[Hausdorrf, 1914]
  There is no function that satisfies $(1) - (4)$ at the same time.
\end{theorem}

We will prove this theorem later.
For now we can only try to weaken the requirements.
For example instead of $\sigma$-additivity we might require finite
additivity.

\begin{theorem}
  There exists a function that satisfies the wanted requirements in
  dimenstions $1$ and $2$ but not in dimension $n \geq 3$.
\end{theorem}

For example in $n = 3$ we have the Banach-Tarski paradox

\begin{paradox}[Banach--Tarski, 1924]
  For every $n \geq 1$ we can divide $S^2$ in $\R^n$ to a finite amount 
  of parts such that when they are rotated and rearranged,
  can form a new sphere of any desired size.
\end{paradox}
\begin{remark}
  The bigger sphere we would want to form, the greater is the minimal
  pieces we need to divide the unit sphere in order to form it.
\end{remark}

This paradox is based on the use of the axiom of choice, but since we
assume the axiom of choice in this course we still need to modify the
requirements.

Instead of $(4)$ we require subadditivity:
\[
  \mu\del{\bigcup_{i=1}^{\infty} \le \sum_{i=1}^{\infty} \mu(A_i)}.
\]
This is possible but instead we would like to keep $\sigma$-additivity
but instead give up on requirement $(0)$.
We will only define volume only for ``nice'' sets which include
all of the sets we work with in analysis or geometry etc.\ these
sets form a $\sigma$-algebra on $\R^n$.

\begin{definition}[Algebra]
  An algebra on a nonempty set $X$ is a collection $\mathcal A$ of
  subsets of $X$ such that
  \begin{enumerate}
    \item[(1)] $\emptyset, X \in \mathcal A$;
    \item[(2)] $\mathcal A$ is closed under complement;
    \item[(3)] $\mathcal A$ is closed under finite unions and intersections.
  \end{enumerate}
\end{definition}

\begin{definition}[$\sigma$-algebra]
  A $\sigma$-algebra on a nonemptyset $X$ is an algebra $\mathcal A$ on
  $X$ that is also closed under countable unions and intersections.
\end{definition}

\begin{remark}
  A $\sigma$-algebra is sometimes called a $\sigma$-field.
  That is why it is sometimes denoted $\mathcal F$.
\end{remark}

\begin{remark}
  From De-Morgan laws we know that
  \[
    \del{\bigcup_{i \in I} A_i}^c =
    \bigcap_{i \in I} A_i^c
  \]
  so it is only necessary to require closure under countable unions
  or countable intersections.
\end{remark}

\begin{remark}
  It is also possible to require $\mathcal A$ to be nonempty.
  Then for $A \in \mathcal A$ we have
  \[
    A \in \mathcal \implies A^c \in \mathcal A \implies
    A \cup A^c = X \in \mathcal A \stand
    A \cap A^c = \emptyset \in \mathcal A.
  \]
\end{remark}

\begin{example}
  $\mathcal A = 2^X$ and $\mathcal = \set{\emptyset, X}$ are the smallest
  and biggest $\sigma$-algebras.
\end{example}

\begin{example}
  If $X$ is not countable.
  Then
  \[
    \mathcal A =
    \set{E \subseteq X \colon E \stor E^c \text{ are countable}} \neq
    2^X
  \]
  is a $\sigma$-algebra.
\end{example}

\begin{definition}[Cocountablility]
  Let $X$ be a set. Then $A$ is called cocountable if $A^c$ is countable.
\end{definition}

\begin{example}[Generated $\sigma$-algebra]
  Let $F \subseteq 2^X$ be a family of subsets of $X$.
  The $\sigma$-algebra generated by $F$ is defined as
  \[
    \sigma(F) = \cap \set{\mathcal A \subseteq 2^X \colon 
  \mathcal A \text{ is a $\sigma$-algebra} \stand F \subset \mathcal A}
  \]
\end{example}
\begin{remark}
  Notice that the intersection is indeed a $\sigma$-algerba.
\end{remark}
\begin{remark}
  Let $\A$ be a $\sigma$-algebra and $F \subseteq \A$.
  Then $\sigma(F) \subseteq A$.
\end{remark}
\begin{corollary}
  Suppose $F_1 \subseteq \sigma(F_2)$ and $F_2 \subseteq \sigma(F_1)$.
  Then $\sigma(F_1) = \sigma(F_2)$.
\end{corollary}

\begin{definition}[Generated $\sigma$-algebra]
  Let $X$ be a topological space.
  Then we define the Borel $\sigma$-algebra as the $\sigma$-algebra generated
  by the open sets in $X$.
  \[
    B(X) = \sigma\del{\set{G \subset X \mid G \text{ is open}}}.
  \]
\end{definition}
\begin{remark}
  Recall that $G$ denotes an open set, $F$ a closed set, $G_{\delta}$
  a countable intersection of open sets and $F_{\sigma}$ a countable
  union of closed sets.
  Similarly $G_{\delta \sigma}$ is a countable union of $G_{\delta}$ sets
  etc.
\end{remark}
\begin{remark}
  \[
    B(X) = \sigma\del{\set{F \subset X \mid F \text{ is closed}}}.
  \]
\end{remark}

\begin{proposition}
  $B(\R)$ is generated by the collection of any type of interval.
\end{proposition}
\begin{proof}
  Consider the collection of open intervals in $\R$.
  Since any open set in $\R$ is a countable union of disjoin open intervals,
  it is clear that $B(\R) = \sigma\del{(a,b)}$.

  Consider the collection of closed intervals in $\R$.
  Since any closed interval is a countable intersection of open sets,
  we have that $[a,b] \subseteq \sigma\del{(a,b)}$.
  Since any open interval is a countable union of closed sets,
  we have that $(a,b) \subseteq \sigma\del{[a,b]}$.
  
  The proof for other types of intervals (like $(a,b]$) is similar and thus
  omitted.
\end{proof}

\begin{definition}[Product $\sigma$-algebra]
  Let $\set{\A_{i}}_{i}$ be a collection of $\sigma$-algebras on
  $\set{X_{i}}_{i}$.
  Then, the product $\sigma$-algebra $\otimes_{i \in I} \A_{i}$ is
  the $\sigma$-algebra generated by the cylindrical sets.
  \[
    \mathcal{S} = \set{\prod_{i \in I}{U_{\alpha}} \mid 
    \exists j \in I \st 
    \text{ $U_{i} = X_{i}$ 
    for $i \in I \setminus \{j\}$ and $U_j \in \A_j$}}.
  \]
  which is the also the set that generated the product topology on
  the product space.
\end{definition}
\begin{remark}
  In the case of $|I| < \aleph_0$ this is equivalent to the $\sigma$-algebra
  generated by the set of the box topology.
\end{remark}

\begin{proposition}
  $B(\R^n) = \otimes_{i=1}^{n} B(\R)$.
\end{proposition}
\begin{proof}
  We need to prove that $\prod_{i=1}^{n} (a_i, b_i) \subseteq B(\R^n)$
  which is clear, and also that $B(\R^n) \subseteq \prod_{i=1}^{n} (a_i, b_i)$
  which is also managable because for an open set $A \subseteq \R^n$ we
  can see that it is the countable union of all the open boxes with
  rational sized edges contained in $A$ around any rational point $q \in A$
  (which exist because $A$ is open).
\end{proof}

\begin{definition}[Measure]
  Let $\A$ be a $\sigma$-algebra on $X$.
  A function $\mu \colon \A \to [0,\infty]$ is called a measure if
  \begin{enumerate}
  \item[(1)] $\mu(\emptyset) = 0$;
  \item[(2)] Given a sequence $\set{E_i}_{i=1}^{\infty} \subseteq \A$ of
    disjoint sets we have
    \[
      \mu\del{\bigoplus_{i=1}^{\infty} E_i} =
      \sum_{i=1}^{\infty} \mu(E_i).
    \]
  \end{enumerate}
\end{definition}
\begin{remark}
  Property $(2)$ is called $\sigma$-additivity.
  This obviouly implies finite additivity because we can choose 
  $E_j = \emptyset$.
\end{remark}

\begin{definition}[Measurable space]
  The space $(X,\A)$ is called a measurable space.
  The elements of $\A$ are called measurable sets.
\end{definition}

\begin{definition}[Measure space]
  The triple $(X,\A,\mu)$ is called a measure space.
\end{definition}

\begin{definition}[Finite measure]
  A finite measure is a measure $\mu$ on $X$ such that $\mu(X) < \infty$.
\end{definition}

\begin{definition}[$\sigma$-finite measure]
  A $\sigma$-finite measure is a measure $\mu$ on $X$ such that
  $X = \cup_{i=1}^{\infty} E_i$ for $E_j \in \A$ such that $\mu(E_i) < \infty$
  for all $i$.
\end{definition}

\begin{definition}[Borel measure]
  A measure $\mu$ on a topological space $X$ is called a Borel measure
  if $B(X) \subseteq \A$.
\end{definition}


\begin{example}[Delta measure]
  Let $x_0 \in X$ and $\A = 2^X$.
  Then the delta measure is
  \[
    \delta_{x_0}(E) =
    \begin{cases}
      1, &x_0 \in E \\
      0, &x_0 \notin E
    \end{cases}.
  \]
\end{example}

\begin{example}[Counting measure]
  The counting measure is the measure on $\A = 2^X$ such that
  $\mu(E) = |E|$.
\end{example}

\begin{example}
  Suppose $\aleph_0 < |X|$ and $\A$ be the $\sigma$-algebra of the countable
  or cocountable subsets of $X$.
  \[
    \mu(E) =
    \begin{cases}
      0, |E| \le \aleph_0 \\
      1, |E^c| = \aleph_0
    \end{cases}
  \]
\end{example}

\begin{example}
  Suppose $|X| = \infty$ and $\A = 2^X$.
  \[
    \mu(E) =
    \begin{cases}
      0, &|E| < \infty \\
      1, &|E| = \infty
    \end{cases}
  \]
\end{example}
\begin{remark}
  The last example is a finite additive measure, but not $\sigma$-additive.
\end{remark}

\begin{proposition}
  Let $(X, \A, \mu)$ be a measure space.
  Then
  \begin{enumerate}
    \item[(1)] Let $E,F \in \A$ such that $E \subseteq F$.
      Then $\mu(E) \le \mu(F)$.
    \item[(2)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$.
      Then
      \[
        \mu\del{\bigcup_{i=1}^{\infty} E_i} \le \sum_{i=1}^{\infty} \mu(E_i)
      \]
    \item[(3)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$ such that
      $E_1 \subseteq E_2 \subseteq \dots$ then
      \[
        \mu\del{\bigcup_{i=1}^{\infty} E_i} =
        \lim_{i \to \infty} \mu(E_i)
      \]
    \item[(4)] Let $\set{E_i}_{i=1}^{\infty} \subseteq A$ such that
      $E_1 \supseteq E_2 \supseteq \dots$ then
      \[
        \mu\del{\bigcap_{i=1}^{\infty} E_i} =
        \lim_{i \to \infty} \mu(E_i)
      \]
  \end{enumerate}
\end{proposition}
\begin{proof}
  TO BE ADDED.
\end{proof}

\begin{definition}[$\mu$-negligible set]
  A negligible set is a set $E \in \A$ such that $\mu(E) = 0$.
\end{definition}

\begin{definition}[Almost everywhere]
  We say that a certain property is true almost everywhere if it is true
  for any $x \in X \setminus E$ such that $E$ is $\mu$-negligible.
\end{definition}

\begin{example}
  We have that $\sin x \neq 0$ almost everywhere because
  \[
    |E| = |\set{x \in \R \mid \sin x = 0}| = \aleph_0
  \]
  is $\mu$-negligible for 
  \[
    \mu(E) =
    \begin{cases}
      0, |E| \le \aleph_0 \\
      1, |E^c| = \aleph_0
    \end{cases}
  \]
\end{example}
\begin{remark}
  A countable union of $\mu$-negligible sets is $\mu$-negligible from
  subadditivity.
\end{remark}
\begin{remark}
  A subset of a $\mu$-negligible set is $\mu$-negligible since $\mu$ is
  monotone.
\end{remark}

\begin{definition}[Complete measure space]
  A triple $(X,\A,\mu)$ is called a complete measure space if
  for any $F \in \A$, if $\mu(F) = 0$ then for all $E \subseteq F$
  we have $E \in \A$.
\end{definition}

\begin{theorem}[Completion theorem]
  Let $(X, \A, \mu)$ be a measure space.
  Define
  \begin{align*}
    \mathcal N &= \set{N \in \A \mid \mu(N) = 0} \\
    \overline \A &= 
    \set{E \cup F \mid E \in \A \stand F \subseteq N \in \mathcal N}
  \end{align*}
\end{theorem}




% Add lecture 2 from Yarden etc.

We want to construct a measure space $(\R^n, \A, \mu)$ such that
\[
  \mu\del{\prod_{i=1}^{n} [a_i,b_i]} =
  \prod_{i=1}^{n} |a_i - b_i|.
\]

Recall that we saw earlier that
\[
  B(\R^n) =
  \otimes_{i=1}^{n} B(\R) =
  \sigma(\prod_{i=1}^{n} [a_i,b_i])
\]
Because we want the boxes to be contained in $\A$ we have that
$B(\R^n) \subseteq \A$.
To define the measure for other sets we can use an outer measure
\[
  \mu^*(E) := \int \set{\sum_{i=1}^{\infty} \mu(R_i) \mid E \subset 
  \bigcup_{i=1}^{n} R_i}.
\]
Is $\mu^*(R) = \mu(R)$? Yes.
Did we get a measure? No, we got an outer measure.
\begin{remark}
  Defining $\mu^*$ only on ``good'' sets gives us Lebesgue measure.
\end{remark}

\begin{definition}[Outer measure]
  Let $X \neq \emptyset$. Then $\mu^* \colon 2^X \to [0,\infty]$ is
  called an outer measure if
  \begin{enumerate}
    \item[(1)] $\mu^*(\emptyset) = 0$;
    \item[(2)] $\mu^*$ is monotone (if $A \subset B$ then $\mu(A) < \mu(B)$);
    \item[(3)] $\mu$ is subadditive ().
  \end{enumerate}
\end{definition}

\begin{proposition}
  Let $\mathcal E \subseteq 2^X$ be a family of subsets of $X$ and
  $\varphi \colon \mathcal E \to [0,\infty]$ such that
  $\emptyset, X \in \mathcal E$ and $\varphi(\emptyset) = 0$.
  For all $A \subseteq X$ we define
  \[
    \mu^*(A) = \inf\set{\sum_{i=1}^{\infty} \varphi(E_i) \colon 
    E_i \in \mathcal E \stand A \subseteq \bigcup_{i=1}^{\infty} E_i}
  \]
  then $\mu^*$ is an outer measure.
\end{proposition}
\begin{remark}
  It is not promised that $\mu*(E) = \varphi(E)$ for $E \in \mathcal E$.
\end{remark}
\begin{proof}
\begin{enumerate}
  \item[(1)] We can cover by $E_i = \emptyset$.
  \item[(2)] Let $A \subseteq B$.
    We can use the cover of $B$ for $A$ since 
    $A \subseteq B \subseteq \cup E_i$ which implies $\mu^*(A) \le \mu^*(B)$.
  \item[(3)]
\end{enumerate}
\end{proof}

\begin{remark}
  Every outer measure can be constructed the way we constructed them.
\end{remark}

\begin{definition}[$\mu^*$-measurable set]
  A set $A \subseteq X$ is called $\mu^*$-measurable if
  \[
    \forall E \subseteq X \colon
    \mu^*(E) = \mu^*(E \cap A) + \mu^*(E \cap A^c).
  \]
\end{definition}

\begin{theorem}[Caratheodory's outer measure theorem]
  Let $\mu^*$ be an outer measure on $X$. Then
  \begin{enumerate}
    \item[(1)] $\mathcal F_{\mu^*} := \set{\mu^*\text{-measurable sets}}$ is a 
      $\sigma$-algebra.
    \item[(2)] $(X, \mathcal F_{\mu^*}, \mu^*\vert_{\mathcal F_{\mu^*}})$
      is a complete measure space.
  \end{enumerate}
\end{theorem}
\begin{remark}

\end{remark}

% Proof
















\end{document}
